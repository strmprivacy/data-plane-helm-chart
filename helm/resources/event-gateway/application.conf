{{ $component := .Values.components.eventGateway }}
{{ $config := $component.configuration }}
{{ $kafkaAuth := $config.kafkaAuth }}
app {
  kafka {
    eventProducer {
        kafkaSecurityConfig {
            securityProtocol = "{{ .Values.kafkaSecurityConfig.securityProtocol }}"
            sslTruststoreLocation = "/var/truststore/client.truststore.jks"
            sslTruststorePassword = "{{ .Values.kafkaSecurityConfig.sslTruststorePassword}}"
            userName = "{{ $kafkaAuth.user }}"
            password = "{{ $kafkaAuth.password }}"
        }
    }
    encryptionKeysProducer {
        kafkaSecurityConfig {
            securityProtocol = "{{ .Values.kafkaSecurityConfig.securityProtocol }}"
            sslTruststoreLocation = "/var/truststore/client.truststore.jks"
            sslTruststorePassword = "{{ .Values.kafkaSecurityConfig.sslTruststorePassword}}"
            userName = "{{ $kafkaAuth.user }}"
            password = "{{ $kafkaAuth.password }}"
        }
    }
    usageProducer {
        kafkaSecurityConfig {
            securityProtocol = "{{ .Values.kafkaSecurityConfig.securityProtocol }}"
            sslTruststoreLocation = "/var/truststore/client.truststore.jks"
            sslTruststorePassword = "{{ .Values.kafkaSecurityConfig.sslTruststorePassword}}"
            userName = "{{ $kafkaAuth.user }}"
            password = "{{ $kafkaAuth.password }}"
        }
    }
  }
}
